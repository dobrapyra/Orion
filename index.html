
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Orion</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <style>
      body {
        font-family: Monospace;
        margin: 0;
      }
      #container {
        position: relative;
        max-width: 1280px;
        margin: 0 auto;
      }
      #viewport {
        z-index: 0;
        position: relative;
        height: auto;
        background-color: #121212;
      }
      #fps {
        z-index: 1;
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 14px;
        text-align: right;
        color: #f3f3f3;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <div id="viewport"></div>
      <div id="fps">FPS</div>
    </div>

    <svg id="shapw-svg" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="720" width="1280" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" viewBox="0 0 1280 720.00001">
      <g id="shape-group" stroke="#000" fill="none">
        <path id="border-path" d="m899.5 360c0 143.32-116.18 259.5-259.5 259.5s-259.5-116.18-259.5-259.5 116.18-259.5 259.5-259.5 259.5 116.18 259.5 259.5z" stroke-width=".99808px"/>
        <path id="inside-path" d="m520 194.29 64.29-34.29 77.14-7.14 74.28 27.14l58.571 42.857 2.8572 44.286-44.286 1.4286-48.571-32.857-61.429-17.143-60 7.1429-61.429 32.857-48.571-12.857-25.714 61.429 51.429 31.429 64.286-10 35.714-32.857 54.286-8.5714 60 24.286 32.857 27.143 44.29 2.86 48.57-31.43 8.57 50-17.14 52.86-51.43-7.15-68.57-12.85-61.429-31.429-65.714 20-67.143 12.857-67.143-12.857 4.2857 41.429 35.7 57.14 61.43-31.43 85.71-8.57 75.72 15.71 91.43 14.29-55.72 51.43-37.14 5.71-50-25.714-74.286 5.7143-54.286 20 67.143 30 51.44 4.29" stroke-width="1px"/>
      </g>
    </svg>
    <script>
      function getPointsFromPath(pathId, pointsCount, pointsOffset) {
        var points = [];
        var pathEl = document.getElementById(pathId);
        if( !pathEl ) return points;

        var pathLength = pathEl.getTotalLength();
        var offset = Object.assign({
          x: 10,
          y: 10
        }, pointsOffset);

        for(var i = 0; i < pointsCount; i++) {
          var p = pathEl.getPointAtLength(i * pathLength / pointsCount);
          points.push({
            x: p.x + offset.x,
            y: p.y + offset.y
          });
        }

        return points;
      }

      // var borderPoints = getPointsFromPath('border-path', 32);
      // var insidePoints = getPointsFromPath('inside-path', 64);

      // round function
      // .map( point => ({
      //   x: Math.round(point.x * 1e5) / 1e5,
      //   y: Math.round(point.y * 1e5) / 1e5
      // }) )

      var borderPoints = JSON.parse('[{"x":909.5,"y":370},{"x":904.56189,"y":420.63873},{"x":889.81073,"y":469.3302},{"x":865.79187,"y":514.18127},{"x":833.49506,"y":553.49493},{"x":794.18134,"y":585.79181},{"x":749.3302,"y":609.81079},{"x":700.63879,"y":624.56189},{"x":650.00012,"y":629.5},{"x":599.36139,"y":624.56195},{"x":550.66992,"y":609.81079},{"x":505.81842,"y":585.79248},{"x":466.50507,"y":553.49506},{"x":434.2077,"y":514.18192},{"x":410.18936,"y":469.33038},{"x":395.43811,"y":420.63882},{"x":390.5,"y":370.00018},{"x":395.43805,"y":319.36148},{"x":410.18918,"y":270.67001},{"x":434.20746,"y":225.81842},{"x":466.50488,"y":186.5051},{"x":505.81821,"y":154.20763},{"x":550.66986,"y":130.18923},{"x":599.36133,"y":115.43806},{"x":650,"y":110.5},{"x":700.63873,"y":115.43809},{"x":749.3302,"y":130.18925},{"x":794.18176,"y":154.2076},{"x":833.49506,"y":186.5051},{"x":865.79248,"y":225.81841},{"x":889.81079,"y":270.66989},{"x":904.56195,"y":319.3613}]');
      var insidePoints = JSON.parse('[{"x":530,"y":204.28999},{"x":565.32141,"y":185.45082},{"x":601.45923,"y":169.33643},{"x":641.32031,"y":165.64693},{"x":680.62823,"y":166.22081},{"x":718.22852,"y":179.95897},{"x":754.40411,"y":196.3616},{"x":786.71063,"y":220.00061},{"x":805.45654,"y":251.07893},{"x":793.23218,"y":277.59158},{"x":754.87115,"y":273.1727},{"x":721.71387,"y":250.74265},{"x":684.36639,"y":237.36629},{"x":645.59045,"y":229.43608},{"x":605.83972,"y":234.16833},{"x":569.08612,"y":248.42639},{"x":533.78693,"y":267.30713},{"x":495.31598,"y":259.01376},{"x":472.37314,"y":280.74808},{"x":457.62958,"y":317.44382},{"x":491.7876,"y":338.3183},{"x":528.69183,"y":345.44202},{"x":568.2475,"y":339.28894},{"x":598.8833,"y":314.62466},{"x":635.11108,"y":301.52441},{"x":673.92615,"y":301.62607},{"x":711.03314,"y":316.64575},{"x":743.8847,"y":338.80417},{"x":780.35156,"y":350.16431},{"x":817.07831,"y":340.38168},{"x":848.99603,"y":322.48801},{"x":855.75885,"y":361.94412},{"x":847.3147,"y":400.30487},{"x":823.83862,"y":420.61627},{"x":784.22198,"y":414.89825},{"x":744.87555,"y":407.52475},{"x":706.89294,"y":396.15707},{"x":671.25519,"y":377.92365},{"x":633.9046,"y":378.94131},{"x":595.60754,"y":390.59698},{"x":556.36377,"y":398.42206},{"x":517.04666,"y":402.63138},{"x":477.72961,"y":395.10269},{"x":460.68304,"y":411.84985},{"x":472.87451,"y":448.89703},{"x":494.08575,"y":482.84689},{"x":526.68262,"y":475.61285},{"x":562.59497,"y":458.31235},{"x":602.42786,"y":454.3295},{"x":642.26062,"y":450.34671},{"x":681.51215,"y":457.4339},{"x":720.70892,"y":465.56622},{"x":760.25391,"y":471.78311},{"x":799.80499,"y":477.96475},{"x":793.13037,"y":498.20154},{"x":763.71411,"y":525.35303},{"x":726.42072,"y":536.15393},{"x":690.17603,"y":521.81204},{"x":652.70892,"y":512.75821},{"x":612.79559,"y":515.82846},{"x":574.22565,"y":525.0553},{"x":546.03894,"y":539.20953},{"x":582.58807,"y":555.53998},{"x":620.1048,"y":568.10645}]');

    </script>

    <script type="text/javascript" src="./src/vendors/getOffset.js"></script>
    <script type="text/javascript" src="./src/vendors/loop.js"></script>
    <script type="text/javascript" src="./src/constellation.js"></script>
    <script type="text/javascript" src="./src/core.js"></script>

    <script>
      var orion = new Orion({
        viewport: document.getElementById('viewport'),
        fpsMeter: document.getElementById('fps'),
        w: 1280,
        h: 720
      });
    </script>
  </body>
</html>